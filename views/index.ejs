<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>배달의 민족</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <style>
      span {
        margin-left: 30px;
      }

      * {box-sizing: border-box;}
body {font-family: Verdana, sans-serif;}
.mySlides {display: none;}
img {vertical-align: middle;}

/* Slideshow container */
.slideshow-container {
  max-width: 1000px;
  position: relative;
  margin: auto;
}

/* Caption text */
.text {
  color: #000000;
  font-size: 15px;
  padding: 8px 12px;
  position: absolute;
  bottom: 8px;
  width: 100%;
  text-align: center;
}

/* Number text (1/3 etc) */
.numbertext {
  color: #f2f2f2;
  font-size: 12px;
  padding: 8px 12px;
  position: absolute;
  top: 0;
}

/* The dots/bullets/indicators */
.dot {
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #bbb;
  border-radius: 50%;
  display: inline-block;
  transition: background-color 0.6s ease;
}

.active {
  background-color: #717171;
}

/* Fading animation */
.fade {
  -webkit-animation-name: fade;
  -webkit-animation-duration: 1.5s;
  animation-name: fade;
  animation-duration: 1.5s;
}

@-webkit-keyframes fade {
  from {opacity: .4} 
  to {opacity: 1}
}

@keyframes fade {
  from {opacity: .4} 
  to {opacity: 1}
}

/* On smaller screens, decrease text size */
@media only screen and (max-width: 300px) {
  .text {font-size: 11px}
}
    </style>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=b930b1716a7731244d8d562694a6b47b&libraries=services"></script>

    </script>
  </head>
  <body>
    <% if(pass==false){ %>
    <script type="text/javascript">
      alert("로그인 을 해주세요!");
    </script>
    <% } %>

    <a href="/nav/restaurant">음식점 등록하기</a>
    <form action="" method="POST">
      <input
        type="text"
        id="sample5_address"
        placeholder="주소"
        name="address"
      />
      <input type="text" name="place" id="place" hidden />
      <input
        type="button"
        onclick="sample5_execDaumPostcode()"
        value="주소 검색"
      /><br />
      <div id="map" style="width: 300px; height: 300px; margin-top: 10px"></div>

      <input type="submit" value="주소 등록" />
    </form>
    <header>
      <nav>
        <span
          ><a href="/nav/notice"
            ><img src="/images/notice.PNG" width="30px" height="30px" /></a
        ></span>
        <span><a href="/nav/love">찜한가게</a></span>
        <span><a href="">Search</a></span>
        <span><a href="/nav/paylist">주문내역</a></span>
        <span><a href="/nav/cart">장바구니</a></span>
        <span><a href="/nav/my">My</a></span>
        <span><a href="/">홈</a></span>
        <span><a href="/nav/login">로그인</a></span>
        <span><a href="/nav/register">회원가입</a></span>
      </nav>
    </header>
    <hr />
    <p></p>

    <div class="slideshow-container">

      <div class="mySlides fade">
        <div class="numbertext">1 / 3</div>
       <a href="/nav/coupon"> <img src="http://placehold.it/300x100" style="width:100%"></a>
        <div class="text">Caption One</div>
      </div>
      
      <div class="mySlides fade">
        <div class="numbertext">2 / 3</div>
        <img src="http://placehold.it/300x100" style="width:100%">
        <div class="text">Caption Two</div>
      </div>
      
      <div class="mySlides fade">
        <div class="numbertext">3 / 3</div>
        <img src="http://placehold.it/300x100" style="width:100%">
        <div class="text">Caption Three</div>
      </div>
      
      </div>
      <br>
      
      <div style="text-align:center">
        <span class="dot"></span> 
        <span class="dot"></span> 
        <span class="dot"></span> 
      </div>


    <hr><p></p>
    <div>
      <span
        ><a href="/mainmenu/menu/koreafood"
          ><img src="/images/koreafood.PNG" width="40px" height="40px" /></a
      ></span>

      <span
        ><a href="/mainmenu/menu/snackbar"
          ><img src="/images/snackbar.PNG" width="40px" height="40px" /></a
      ></span>

      <span
        ><a href="/mainmenu/menu/caffe"
          ><img src="/images/caffe.PNG" width="40px" height="40px" /></a
      ></span>

      <span
        ><a href="/mainmenu/menu/chicken"
          ><img src="/images/chicken.PNG" width="40px" height="40px" /></a
      ></span>

      <span
        ><a href="/mainmenu/menu/pizza"
          ><img src="/images/pizza.PNG" width="40px" height="40px" /></a
      ></span>

      <span
        ><a href="/mainmenu/menu/fastfood"
          ><img src="/images/fastfood.PNG" width="40px" height="40px" /></a
      ></span>
    </div>

    <div>
      <span>&nbsp; 한식 </span>
      <span>&nbsp; 분식 </span>
      <span> &nbsp;&nbsp;&nbsp;카페 </span>
      <span> &nbsp;&nbsp;&nbsp;&nbsp;치킨 </span>
      <span>&nbsp;&nbsp; 피자 </span>
      <span>패스트푸드 </span>
    </div>

    <script>
var slideIndex = 0;
showSlides();

function showSlides() {
    var i;
    var slides = document.getElementsByClassName("mySlides");
    var dots = document.getElementsByClassName("dot");
    for (i = 0; i < slides.length; i++) {
       slides[i].style.display = "none";  
    }
    slideIndex++;
    if (slideIndex > slides.length) {slideIndex = 1}    
    for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex-1].style.display = "block";  
    dots[slideIndex-1].className += " active";
    setTimeout(showSlides, 2000); // Change image every 2 seconds
}


      var mapContainer = document.getElementById("map"), // 지도를 표시할 div
        mapOption = {
          center: new daum.maps.LatLng(37.537187, 127.005476), // 지도의 중심좌표
          level: 5, // 지도의 확대 레벨
        };

      //지도를 미리 생성
      var map = new daum.maps.Map(mapContainer, mapOption);
      //주소-좌표 변환 객체를 생성
      var geocoder = new daum.maps.services.Geocoder();
      //마커를 미리 생성
      var marker = new daum.maps.Marker({
        position: new daum.maps.LatLng(37.537187, 127.005476),
        map: map,
      });

      function sample5_execDaumPostcode() {
        new daum.Postcode({
          oncomplete: function (data) {
            var addr = data.address; // 최종 주소 변수

            // 주소 정보를 해당 필드에 넣는다.
            document.getElementById("sample5_address").value = addr;
            // 주소로 상세 정보를 검색
            geocoder.addressSearch(data.address, function (results, status) {
              // 정상적으로 검색이 완료됐으면
              if (status === daum.maps.services.Status.OK) {
                var result = results[0]; //첫번째 결과의 값을 활용

                // 해당 주소에 대한 좌표를 받아서
                var coords = new daum.maps.LatLng(result.y, result.x);
                // 지도를 보여준다.
                mapContainer.style.display = "block";
                map.relayout();
                // 지도 중심을 변경한다.
                map.setCenter(coords);
                // 마커를 결과값으로 받은 위치로 옮긴다.
                marker.setPosition(coords);

                document.getElementById("place").value = coords;
              }
            });
          },
        }).open();
      }
    </script>
  </body>
</html>
